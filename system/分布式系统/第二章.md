# 第二章

**共享内存系统**

- 优点
  
  - 全局地址空间提供了对内存的友好编程视角
  
  - 任务之间的数据共享因内存的接近性而又快又统一

- 缺点
  
  - 内存和CPU之间存在可扩展性的问题，增加CPU数量会几何地增加对共享内存的访问量，带来性能瓶颈
  
  - 增加CPU数量会几何地增加对缓存一致性管理的流量
  
  - 程序员需要负责正确同步共享内存的访问，以确保数据一致性
  
  共享内存方式提供了简单直观的共享内存访问，但在可扩展性和的缓存一致性管理方面存在挑战，需要程序员付出额外的努力来实现搞笑的并发程序

**分布式内存系统**

- 优点
  
  - 内存可以根据处理器数量进行扩展，处理器数量和内存大小成正比例增长
  
  - 每个处理器可以快速访问自己的专属内存，无需等待全局缓存一致性的开销
  
  - 使用商用处理器和网络硬件，可以实现成本效益高的系统

- 缺点
  
  - 程序员需要负责处理器间的数据通信细节
  
  - 将现有的数据结构映射到分布式内存组织可能很困难
  
  - 访问远程节点上的数据，需要的时间比访问本地数据更长

分布式内存系统具有良好的扩展性和性价比，但需要程序员付出额外的工作来处理分布式编程的复杂性

**分布式共享内存**

编程模型是跟共享内存一样的

- 优点
  
  - 隐藏消息传递的细节
  
  - 处理大型数据库
  
  - 提供大量虚拟内存空间：DSM为程序员提供了丰富的虚拟内存空间
  
  - 程序的可移植性：DSM程序使用通用的编程接口，因此具有良好的可移植性
  
  - 屏蔽底层通信原语：DSM为程序员屏蔽了底层的通信原语，使得便车给更加简单

- 问题
  
  - 性能损失：DSM可能会导致性能下降
  
  - 难以优化：就像框架一样
  
  - 数据访问控制：DSM需要提供对共享数据的保护机制，如锁机制
  
  - 系统控制：DSM受到内存管理软件，操作系统和编程语言时系统的控制
  
  - 数据粒度：需要确定在单个操作中需要传输的数据量
